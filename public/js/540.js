"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[540],{5540:(a,t,e)=>{e.r(t),e.d(t,{default:()=>i});function r(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}const s={data:function(){var a;return{kd_kostumer_member:null,in_role:[],api_data:null,wilayah:[],kecamatan:[],kelurahan:[],kodepos:[],form:new Form((a={nama:"",nama_jenis_member:"",kelamin:"",agama:"",tgl_lahir:"",kewarganegaraan:"",status:"",daerah:"",email:"",telp1:"",telp2:"",provinsi:""},r(a,"daerah",""),r(a,"kecamatan",""),r(a,"kelurahan",""),r(a,"kodepos",""),r(a,"fk_kd_jenis_member",""),a))}},mounted:function(){this.$route.params.kd_kostumer_member&&(this.kd_kostumer_member=this.$route.params.kd_kostumer_member,this.load_kostumer_if_edit()),this.load_create_dependency()},methods:{getDataKodeposAfterSetKelurahan:function(){var a=this;axios.post(this.$api_kodepos,this.form.kelurahan).then((function(t){a.kodepos=t.data.api_data})).catch((function(t){a.$error.catch(t)}))},getDataKelurahanAfterSetKecamatan:function(){var a=this;axios.post(this.$api_kelurahan,this.form.kecamatan).then((function(t){a.kelurahan=t.data.api_data})).catch((function(t){a.$error.catch(t)}))},getDataKecamatanAfterSetWilayah:function(){var a=this;axios.post(this.$api_kecamatan,this.form.daerah).then((function(t){a.kecamatan=t.data.api_data})).catch((function(t){a.$error.catch(t)}))},getDataWilayahAfterSetProvinsi:function(){var a=this;axios.post(this.$api_wilayah,this.form.provinsi).then((function(t){a.wilayah=t.data.api_data})).catch((function(t){a.$error.catch(t)}))},load_create_dependency:function(){var a=this;this.$Progress.start(),axios.get(this.$api_kostumer_member+"/create").then((function(t){a.api_data=t.data.api_data,a.$Progress.finish()})).catch((function(t){a.$Progress.fail(),a.$error.catch(t)}))},load_kostumer_if_edit:function(){var a=this;this.$Progress.start(),axios.get(this.$api_kostumer_member+"/"+this.kd_kostumer_member+"/edit").then((function(t){a.$Progress.finish(),a.in_role=t.data.in_role,a.form.fill(t.data.api_data),a.form.tgl_lahir=a.$date(t.data.api_data.tgl_lahir).format("YYYY-MM-DD")})).catch((function(t){a.$Progress.fail(),a.$error.catch(t)}))},add:function(){var a=this;this.$Progress.start(),this.$toast.df102(),this.form.post(this.$api_kostumer_member).then((function(){a.$Progress.finish(),a.$toast.df200()})).catch((function(t){a.$Progress.fail(),a.$error.catch(t)}))},update:function(){var a=this;this.$Progress.start(),this.$toast.df102(),this.form.put(this.$api_kostumer_member+"/"+this.kd_kostumer_member).then((function(){a.$Progress.finish(),a.$toast.df200()})).catch((function(t){a.$Progress.fail(),a.$error.catch(t)}))},to_base64:function(a){var t=this,e=a.target.files[0],r=a.target.id;this.preview=URL.createObjectURL(e);var s=new FileReader;e.size/1024<2048?(s.onloadend=function(a){t.form[r]=s.result},s.readAsDataURL(e)):window.gambarRule.fire()}}};const i=(0,e(1900).Z)(s,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("kembali"),a._v(" "),e("div",{staticClass:"bg-white rounded border"},[a._m(0),a._v(" "),e("div",{staticClass:"py-2 container"},[e("form",{on:{submit:function(t){t.preventDefault(),null==a.kd_kostumer_member?a.add():a.update()}}},[e("div",{staticClass:"font-weight-bolder h5"},[a._v("Keterangan Biodata")]),a._v(" "),e("div",{staticClass:"px-3"},[e("table",{staticClass:"table table-borderless"},[e("thead",[e("tr",[e("th",{staticClass:"px-3 align-middle",attrs:{width:"200"}},[a._v("Nama Kostumer")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.nama,expression:"form.nama"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"nama",maxlength:"50",minlength:"1"},domProps:{value:a.form.nama},on:{input:function(t){t.target.composing||a.$set(a.form,"nama",t.target.value)}}}),a._v(" "),a.form.errors.has("nama")?e("validasi",{attrs:{msg:a.form.errors.get("nama")}}):a._e()],1)]),a._v(" "),e("tr",[e("th",{staticClass:"px-3 align-middle"},[a._v("Kelamin")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.form.kelamin,expression:"form.kelamin"}],staticClass:"form-control",attrs:{required:""},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.form,"kelamin",t.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"pria"}},[a._v("Pria")]),a._v(" "),e("option",{attrs:{value:"wanita"}},[a._v("Wanita")])]),a._v(" "),a.form.errors.has("kelamin")?e("validasi",{attrs:{msg:a.form.errors.get("kelamin")}}):a._e()],1)]),a._v(" "),e("tr",[e("th",{staticClass:"px-3 align-middle"},[a._v("agama")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.form.agama,expression:"form.agama"}],staticClass:"form-control",attrs:{required:""},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.form,"agama",t.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"test"}},[a._v("Test")]),a._v(" "),e("option",{attrs:{value:"islam"}},[a._v("Islam")]),a._v(" "),e("option",{attrs:{value:"kristern"}},[a._v("kristen")])]),a._v(" "),a.form.errors.has("agama")?e("validasi",{attrs:{msg:a.form.errors.get("agama")}}):a._e()],1)]),a._v(" "),e("tr",[e("th",{staticClass:"px-3 align-middle"},[a._v("Tanggal Lahir")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.tgl_lahir,expression:"form.tgl_lahir"}],staticClass:"form-control",attrs:{type:"date",required:"",id:"nama"},domProps:{value:a.form.tgl_lahir},on:{input:function(t){t.target.composing||a.$set(a.form,"tgl_lahir",t.target.value)}}}),a._v(" "),a.form.errors.has("tgl_lahir")?e("validasi",{attrs:{msg:a.form.errors.get("tgl_lahir")}}):a._e()],1)]),a._v(" "),e("tr",[e("th",{staticClass:"px-3 align-middle"},[a._v("kewarganegaraan")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[null!=a.api_data?e("multiselect",{attrs:{options:a.api_data.negara,"track-by":"nama_negara",label:"nama_negara"},model:{value:a.form.kewarganegaraan,callback:function(t){a.$set(a.form,"kewarganegaraan",t)},expression:"form.kewarganegaraan"}}):a._e(),a._v(" "),a.form.errors.has("kewarganegaraan")?e("validasi",{attrs:{msg:a.form.errors.get("kewarganegaraan")}}):a._e()],1)]),a._v(" "),e("tr",[e("th",{staticClass:"px-3 align-middle"},[a._v("Status Kostumer")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.form.status_kostumer,expression:"form.status_kostumer"}],staticClass:"form-control",attrs:{required:""},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.form,"status_kostumer",t.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"true"}},[a._v("Aktif")]),a._v(" "),e("option",{attrs:{value:"false"}},[a._v("Nonaktif")])]),a._v(" "),a.form.errors.has("status_kostumer")?e("validasi",{attrs:{msg:a.form.errors.get("status_kostumer")}}):a._e()],1)])])])]),a._v(" "),e("div",{staticClass:"font-weight-bolder h5"},[a._v("Keterangan Alamat")]),a._v(" "),e("div",{staticClass:"px-3"},[e("table",{staticClass:"table table-borderless"},[e("thead",[e("tr",[e("th",{staticClass:"px-3 align-middle"},[a._v("Provinsi")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[null!=a.api_data?e("multiselect",{attrs:{options:a.api_data.provinsi,"track-by":"provinsi",label:"provinsi"},on:{input:a.getDataWilayahAfterSetProvinsi},model:{value:a.form.provinsi,callback:function(t){a.$set(a.form,"provinsi",t)},expression:"form.provinsi"}}):a._e(),a._v(" "),a.form.errors.has("provinsi")?e("validasi",{attrs:{msg:a.form.errors.get("provinsi")}}):a._e()],1)]),a._v(" "),e("tr",[e("th",{staticClass:"px-3 align-middle",attrs:{width:"200"}},[a._v("Wilayah (Kota / Kabupaten)")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[e("multiselect",{attrs:{options:a.wilayah,"track-by":"wilayah",label:"wilayah"},on:{input:a.getDataKecamatanAfterSetWilayah},model:{value:a.form.daerah,callback:function(t){a.$set(a.form,"daerah",t)},expression:"form.daerah"}}),a._v(" "),a.form.errors.has("daerah")?e("validasi",{attrs:{msg:a.form.errors.get("daerah")}}):a._e()],1)]),a._v(" "),e("tr",[e("th",{staticClass:"px-3 align-middle",attrs:{width:"200"}},[a._v("Kecamatan")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[e("multiselect",{attrs:{options:a.kecamatan,"track-by":"kecamatan",label:"kecamatan"},on:{input:a.getDataKelurahanAfterSetKecamatan},model:{value:a.form.kecamatan,callback:function(t){a.$set(a.form,"kecamatan",t)},expression:"form.kecamatan"}}),a._v(" "),a.form.errors.has("kecamatan")?e("validasi",{attrs:{msg:a.form.errors.get("kecamatan")}}):a._e()],1)]),a._v(" "),e("tr",[e("th",{staticClass:"px-3 align-middle",attrs:{width:"200"}},[a._v("Kelurahan")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[e("multiselect",{attrs:{options:a.kelurahan,"track-by":"kelurahan",label:"kelurahan"},on:{input:a.getDataKodeposAfterSetKelurahan},model:{value:a.form.kelurahan,callback:function(t){a.$set(a.form,"kelurahan",t)},expression:"form.kelurahan"}}),a._v(" "),a.form.errors.has("kelurahan")?e("validasi",{attrs:{msg:a.form.errors.get("kelurahan")}}):a._e()],1)]),a._v(" "),e("tr",[e("th",{staticClass:"px-3 align-middle",attrs:{width:"200"}},[a._v("Kodepos")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[e("multiselect",{attrs:{options:a.kodepos,"track-by":"kode_pos",label:"kode_pos"},model:{value:a.form.kodepos,callback:function(t){a.$set(a.form,"kodepos",t)},expression:"form.kodepos"}}),a._v(" "),a.form.errors.has("kodepos")?e("validasi",{attrs:{msg:a.form.errors.get("kodepos")}}):a._e()],1)]),a._v(" "),e("tr",[e("th",{staticClass:"px-3 align-middle",attrs:{width:"200"}},[a._v("Alamat Lengkap")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.alamat_lengkap,expression:"form.alamat_lengkap"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:a.form.alamat_lengkap},on:{input:function(t){t.target.composing||a.$set(a.form,"alamat_lengkap",t.target.value)}}}),a._v(" "),a.form.errors.has("alamat_lengkap")?e("validasi",{attrs:{msg:a.form.errors.get("alamat_lengkap")}}):a._e()],1)])])])]),a._v(" "),e("div",{staticClass:"font-weight-bolder h5"},[a._v("Kontak Aktif")]),a._v(" "),e("div",{staticClass:"px-3"},[e("table",{staticClass:"table table-borderless"},[e("thead",[e("tr",[e("th",{staticClass:"px-3 align-middle",attrs:{width:"200"}},[a._v("Email")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:a.form.email},on:{input:function(t){t.target.composing||a.$set(a.form,"email",t.target.value)}}}),a._v(" "),a.form.errors.has("email")?e("validasi",{attrs:{msg:a.form.errors.get("email")}}):a._e()],1)]),a._v(" "),e("tr",[e("th",{staticClass:"px-3 align-middle"},[a._v("Nomor Telp 1")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.telp1,expression:"form.telp1"}],staticClass:"form-control",attrs:{type:"number",required:""},domProps:{value:a.form.telp1},on:{input:function(t){t.target.composing||a.$set(a.form,"telp1",t.target.value)}}}),a._v(" "),a.form.errors.has("telp1")?e("validasi",{attrs:{msg:a.form.errors.get("telp1")}}):a._e()],1)]),a._v(" "),e("tr",[e("th",{staticClass:"px-3 align-middle"},[a._v("Nomor Telp 2")]),a._v(" "),e("td",{staticClass:"px-3 align-middle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.telp2,expression:"form.telp2"}],staticClass:"form-control",attrs:{type:"number",required:""},domProps:{value:a.form.telp2},on:{input:function(t){t.target.composing||a.$set(a.form,"telp2",t.target.value)}}}),a._v(" "),a.form.errors.has("telp2")?e("validasi",{attrs:{msg:a.form.errors.get("telp2")}}):a._e()],1)])])])]),a._v(" "),e("div",{staticClass:"font-weight-bolder h5"},[a._v("Jenis Member Kostumer")]),a._v(" "),e("div",{staticClass:"px-3"},[e("table",{staticClass:"table table-borderless"},[e("thead",[e("tr",[e("th",{staticClass:"px-3 align-middle",attrs:{width:"200"}},[a._v("Member")]),a._v(" "),null!=a.api_data?e("td",{staticClass:"px-3 align-middle"},[e("multiselect",{attrs:{options:a.api_data.jenis_member,"track-by":"kd_jenis_member",label:"nama_jenis_member"},model:{value:a.form.fk_kd_jenis_member,callback:function(t){a.$set(a.form,"fk_kd_jenis_member",t)},expression:"form.fk_kd_jenis_member"}}),a._v(" "),a.form.errors.has("kodepos")?e("validasi",{attrs:{msg:a.form.errors.get("kodepos")}}):a._e()],1):a._e()])])])]),a._v(" "),e("button",{staticClass:"btn btn-block btn-dark",attrs:{type:"submit"}},[a._v("Simpan Kostumer")])])])])],1)}),[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"row py-3 border-bottom"},[e("div",{staticClass:"col-sm"},[e("div",{staticClass:"font-weight-bolder"},[a._v("Kelola Kostumer")])])])])}],!1,null,null,null).exports}}]);